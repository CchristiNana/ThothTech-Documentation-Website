---
title: CourseFlow Enhanced ERD and Data Modelling
description:
  In-depth explanation of the ERD and handling of data in CourseFlow within the context of OnTrack.
---

## Introduction

This document aims to provide a detailed overview of the data that will be required for CourseFlow
through the use of diagrams and text based explanations.

## Diagrams

---

This section will present some diagrams that will be referenced multiple times throughout the
document.

The diagram below provides an easier to digest, high-level overview of the more detailed Entity
Relationship Diagram (ERD).

![Courseflow High Level Entity Relationship](/courseflow-high-level-entity-relationship.png)

The next diagram is the fully fleshed out ERD with the different fields and relationships to other
entities.

![Courseflow Enhanced ERD](/courseflow-enhanced-erd.png)

## Analysis of the Entity Relationships

---

This section will provide a detailed analysis of the key entities of CourseFlow and how they will
relation to each other.

### User and Course Map

The users entity already exists within OnTrack and it represents the users of the system (students
etc.). Since CourseFlow will be a new feature of OnTrack, it can utilize this entity for association
to a CourseMap. The aim of this relationship is to associate a student with a single course map and
this is achieved by referencing the user id of the User entity.

Functionally, a student entering the CourseFlow section in OnTrack can use their user id in the API
request and fetch their respective CourseMap.

### Course Map and Course

This is a simple association. Essentially, each course map will be associated with a single course
that the student is enrolled in.

Functionally, when the course map data is received, a different API request can be made to a course
related route to retrieve the course data via the course id which will be stored with the course map
entity. This data will then be used to load up course related information on the client side.

It is worth mentioning just for extra clarity that the course version the course map is referencing
will be important due to possible changes in the course in each year. For example, students who
enrolled in the 2021 version of Computer Science need to follow requirements specific to that
intake. The 2022 version of Computer Science introduced major/minor sequences which is not
applicable to 2021 enrolled students. This requirement is catered for by having a separate entry within the
course data for different years and versions (technically speaking, each new year would count as a
different version but this field is present just incase a change is made within the year itself and we might need
to keep track of the older versions).

### Course Map and Course Map Unit

Each course map will consist of course map units which will form a core aspect of CourseFlow as this
is what students will be dragging and dropping into slots on the client side to construct their
course map.

As such, this system needs to store the course map units and have them all associated to their
respective course map. In this specific CourseMapUnits entity, each entry will represent a single
unit which will reference the course map they belong to. So, upon loading the course map, we can use
the course map id and fetch all the respective units.

In terms of the course map unit itself, we simply need to keep track of which year, teaching period
and unit slot they were contained in when originally set by the student (or within the template).
This will allow the unit to appear in the correct slot when loaded and can be used for logic to
restrict placement of the unit in incorrect spots.
